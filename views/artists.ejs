<%- include('components/header') %>
<%- include('components/navbar') %>

<div class="myheadings">
  <h3>All Artists</h3>
</div>


<table class="table table-dark align-middle">
  <thead>
    <tr>
      <th scope="col" class="text-center">#</th>
      <th scope="col" class="text-center">Artist Name</th>
      <th scope="col" class="text-center albumscolumn">Albums</th>
    </tr>
  </thead>
  <tbody>

    <% data.forEach(artist=> { %>

    <tr>
      <th scope="row" class="text-center"><%= artist.artist_id %></th>
      <td class="text-center">
        <a class="link-none" href="/artists/<%= artist.artist_id %>"><%= artist.artist_name %></a>
      </td>
      <td>

        <div class="list-group">

          <% artist.albums.forEach(album => { %>

          <a href="/albums/<%= album.album_id %>" class="list-group-item list-group-item-action albumslist">

            <ul class="list-group list-group-horizontal">

              <li class="list-group-item text-center albumslist-image"><img src=<%=album.cover_image_url %>></li>
              <li class="list-group-item albumslist-details">
                <%= album.album_name %> (<%= album.release_year %>)

              </li>


            </ul>



          </a>
          <% }) %>

        </div>

      </td>
    </tr>

    <% }) %>

  </tbody>
</table>



<%- include('components/footer') %>