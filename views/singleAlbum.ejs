<%- include('components/header') %>
<%- include('components/navbar') %>

<div class="container album-heading">
  <div class="row">
    <div class="" style="width:fit-content">
      <img src=<%=data.cover_image_url %> class="img-fluid album-image" alt="...">


    </div>
    <div class="light-text align-middle album-text col">
      <h3><%= data.album_name %> (<%= data.release_year %>)</h3>
      <h3>
        <% data.artists.forEach(artist => { %>
        <a class="link-none" href="/artists/<%= artist.artist_id %>">
          <%= artist.artist_name %>
        </a>
        <% }) %>
      </h3>

      <ul class="genres">
        <li class="genre"><%= data.genre_name %></li>
        <% data.subgenres.forEach(genre => { %>
        <li class="genre">
          <%= genre.genre_name %>
        </li>
        <% }) %>
      </ul>

      <h5><%= data.record_label_name %></h5>

    </div>

  </div>
</div>
<br>

<table class="table table-dark align-middle table table-striped">
  <tbody>
    <% let index =1 %>
    <% data.tracks.forEach(track=> { %>
    <tr>
      <th scope="row" class="text-center" style="width: 50px;"><%= index++ %></th>
      <td>
        <%= track.track_name %>
      </td>
      <td class="text-center" style="width: 100px;">
        <%= track.track_playtime.toFixed(2) %>
      </td>

    </tr>

    <% }) %>

  </tbody>
</table>

<br>

<% if (data.collections.length>0) { %>
<div class="light-text">
  <h5> Featured on:</h5>

  <div class="overflow-x-auto">
    <ul class="collection-scroll">
      <% data.collections.forEach(collection => { %>
      <a class="link-none center-vert" href="/collections/<%= collection.collection_id %>">
        <li class="scroll-item">
          <%= collection.collection_name %>
        </li>
      </a>
      <% }) %>
    </ul>
  </div>

</div>
<% } %>




<%- include('components/footer') %>